@model NissGram.Models.Post

<head>
    <link rel="stylesheet" href="~/css/postCard.css" />
</head>

<div class="card mb-4 mx-auto" style="max-width: 600px;">
    <div class="card-header d-flex align-items-center bg-white border-0">
        <img src="@Model.User.ProfilePicture" alt="Profile Picture" class="rounded-circle me-2"
            style="width: 40px; height: 40px;">
        <div>
            <a asp-controller="User" asp-route-username="@Model.User.UserName" asp-action="ViewUserProfile"
                class="text-dark fw-bold text-decoration-none">@Model.User.UserName</a>
            <small class="d-block text-muted">@Model.DateCreated.ToString("MMMM dd, yyyy")</small>
        </div>
    </div>

    <div class="card-body">
        <p class="card-text font-italic">@Model.Text</p>
    </div>

    <div class="card-footer d-flex justify-content-between align-items-center bg-white border-0">
        <form asp-controller="Post" asp-action="Like" method="post" class="d-flex align-items-center">
            @Html.AntiForgeryToken()
            <input type="hidden" name="postId" value="@Model.PostId" />
            @{
                var userLiked = Model.UserLikes.Any(like => like.User.UserName == User.Identity.Name);
            }
            <button type="submit" class="btn btn-light p-0" style="border: none;">
                <img src="~/images/heart.png" alt="Like Icon" class="like-img me-2 @(userLiked ? "liked" : "")"
                    style="width: 20px; height: 20px;">
            </button>
            <span>@Model.UserLikes.Count</span>
        </form>
        <div class="d-flex align-items-center">
            <img src="~/images/chat.png" alt="Comment Icon" class="comment-img me-2" style="width: 20px; height: 20px;">
            <span>@Model.UserComments.Count</span>
        </div>
    </div>
</div>